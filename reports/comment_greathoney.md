# 윤대헌's comment

## 어려움 및 극복과정

Brainwars를 구현하는 것은 쉽지 않았습니다. 겉으로 보기에는 그저 게임이 동작하는 것처럼 보이지만, 이를 위해서 web, thread, socket, device driver를 철저하게 알아야 할 뿐만이 아니라 이와 같이 맞물리는 Brainwars 게임 로직을 문제 없이 실행할 수 있어야 하기 때문입니다. 이러한 문제를 원만하게 하기 위해 정확한 파일 나누기, 여러 단위 코드를 함수화 등을 통해, 코드의 가독성을 높이고 편한 파일 관리를 통해 문제가 생기더라도 보다 빠르게 해결 할 수 있었습니다.

라즈베리 sense hat에 있는 joystick을 사용하고 싶으나, 관련 C 라이브러리가 존재하지 않아서 난항을 겪었습니다. 그나마 다행인 것은 python에는 sense hat 라이브러리가 들어있어서, 해당 라이브러리가 어떻게 구성되었는지 코드를 분석했습니다. 라이브러리를 들여다 보는 일은 처음이라서 다소 어색했지만, 파이썬의 코드 양이 많지 않아서 파악하는데 그렇게 오랜 시간이 걸리지 않았습니다. 파이썬 라이브러리를 분석하다 보니 "/dev/input/event0"에서 joystick의 입력을 받아온다는 것을 알게 되었고 추가적인 분석을 통해 이를 C언어로 구현하는데 성공했습니다.

이 외에도 Segmentaion fault, web server에서 fork()(프로세스 복제) 등 문제가 여러가지 있었지만 팀원과 함께 인터넷을 통해 열심히 자료 검색을 하여 잘 해결할 수 있었습니다.

## 게임 완성도 높이기

led matrix에서 처음에는 한 프레임이 지나면 화면을 전부 지운 뒤 새로 그리는 방식를 채택했습니다. [이전 게임 프로젝트에서](https://github.com/yh08037/Abstract_strategy_game) 사용했었고 그 방법이 편하고 코드도 단순했기 때문에 선택했지만, 여기 led matrix에서 update되는 속도가 느려 게임에 지장이 있을 정도로 lex matrix가 깜빡거렸습니다. 비록 게임 로직에는 문제가 없지만, 코드를 다소 많아지더라도, led_matrix를 부분적으로 수정하는 방식을 채택하고 코드를 대폭 수정하여 안정적으로 해결했습니다.

처음 플레이하는 사용자를 위해 어떻게 하면 좋은 인터페이스를 갖출 지 많이 고민했습니다. 디스플레이에 현재 진행하고 있는 게임과 현재 남아있는 시간을 표시하고 싶었습니다. 그러나 led matrix는 8x8영역에서 다양한 색을 나타낼 수 있는 디스플레이라서 상대적으로 공간에 대한 압박이 있었습니다. 이를 해결하기 위해, 테두리 전체를 이용해 남은 시간을 알 수 있도록 디자인 했고, 정말로 필요한 공간만을 사용할 수 있도록 디자인했습니다. 

모든 게임에서 어느 정도 숙련도를 가지면 100점을 넘길 수 있도록 점수 및 난이도(color switch 한정)를 치밀하게 조정했습니다.(Official game play에서 확인가능합니다.) 0점에서 시작하여, 정답을 맞출 시 +3점(rainfall은 +1점) 오답시 -1점과 약간의 딜레이를 주어 정확도를 다소 요구하도록 설계했습니다. 이렇게 설계하니, 게임 서로 점수 편차가 가장 적음을 확인했습니다.

100점을 넘기게 되면 led matrix 특성상 3자리 수를 표현할 수가 없기에, 100점을 넘으면 특별한 이펙트와 함께 상단바에 추가 점수를 표시하게 했습니다. 이는 123점까지 구별이 가능하게 했습니다. 참고로, 모든 게임은 123점을 넘기기에는 불가능에 가깝습니다.

이외에도 사소한 애니메이션을 추가하여 플레이하는 사람의 마음을 하여금 사로잡을 수 있도록 했습니다. 완성도 높이는 일은 다소 사소해 보여도, 개선하는 만큼 더욱 매력적으로 보여서 보기 좋았습니다.

## 완성 후 소감

저는 코딩을 통해 문제를 해결하는 과정 자체를 즐깁니다. 그렇기에 임베디드 시스템 텀 프로젝트 하는 동안 즐거웠고, 완성도 높은 성과를 내서 보람찼습니다. 또한 더 공부해야 하거나 잊었던 개념에 대해서는 인터넷 검색을 통해 다시 알아가는 소중한 계기가 되었습니다. 마지막으로, 제가 알고 있는 모든 지식을 동반하여 문제를 해결하는 과정 또한 모든 배움에 의미가 있음을 한 번더 깨닫게 되었고, 새로운 것을 배우는 강한 동기를 부여했습니다.

무엇보다도 프로젝트가 완성도 높게 마무리 될 수 있었던 건, 팀원과의 원활한 협업 및 상호간의 신뢰가 가장 크다고 생각합니다. 서로 다른 분야의 코드를 개발하고, 인터페이스를 맞출 때 큰 문제 없이 동작함을 확인했을 때 그 순간이 좋았습니다. 그리고 같이 밤샘하여 코드를 개발했을 때, 오랫동안 같이 고민한 문제가 풀렸을 때 그 순간도 좋았습니다.

그렇기에 프로젝트를 같이 진행해준 김도훈님에게 감사하다는 말을 전합니다. :)
